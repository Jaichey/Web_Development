<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="TravelBlog_login.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        body {
            background: linear-gradient(90deg, #e3ffe7 0%, #d9e7ff 100%);
            font-family: 'Lato', sans-serif;
        }

        .logo_out {
            display: flex;
            justify-content: center;
        }

        .logo {
            width: 40%;
        }

        .button {
            display: flex;
            justify-content: center;
        }

        .btn {
            width: 10rem;
        }

        .gen {
            display: flex;
            align-items: center;
        }
        .log{
            color:blue
        }
    </style>
</head>

<body>
    <div class="logo_out"><img src="Travello_logo_black.png" alt="Travello_logo" class="logo"></div>
    <hr style="border: 1px solid;">
    <div class="container mt-2 w-50">
        <h4><strong>Dive into the Ocean of <span class="text-danger">Adventures</span><i class="fa-solid fa-arrow-right-to-bracket mx-2"></i></strong></h4>
        <p id="res" class="mt-3"></p>
        <form class="row g-1" id="loginForm" onsubmit="submitForm(event)">
            <!-- Input Fields -->
            <div class="col-md-6 form-floating">
                <input type="text" class="form-control" id="floatingName" placeholder="JaiChey" required>
                <label for="floatingName"><i class="fa-solid fa-signature mx-2"></i> Name &#42;</label>
            </div>
            <div class="col-md-6 form-floating">
                <input type="text" class="form-control" id="floatingUserName" placeholder="Jai2308_" required>
                <label for="floatingUserName"><i class="fa-solid fa-user mx-2"></i> Username &#42;</label>
                <span class="text-dark">Note:Username should be <u><span class="text-danger">Unique</span></u></span>
            </div>
            <div class="col-md-6 form-floating">
                <input type="email" class="form-control" id="floatingEmail" placeholder="name@example.com" required>
                <label for="floatingEmail"><i class="fa-solid fa-envelope mx-2"></i> Email &#42;</label>
            </div>
            <div class="col-md-6 form-floating">
                <input type="date" class="form-control" id="DOB" required>
                <label for="DOB"><i class="fa-solid fa-cake-candles mx-2"></i> DOB &#42;</label>
            </div>
            <div class="col-md-6 form-floating">
                <input type="text" class="form-control" id="Nationality" placeholder="India" required>
                <label for="Nationality"><i class="fa-solid fa-earth-americas mx-2"></i> Nationality &#42;</label>
            </div>
            <div class="col-md-6 form-floating">
                <input type="text" class="form-control" id="Address" placeholder="Address">
                <label for="Address"><i class="fa-solid fa-address-book mx-2"></i> Home Address</label>
            </div>
            <div class="col-md-6 form-floating">
                <input type="text" class="form-control" id="floatingContact" placeholder="Contact" required>
                <label for="floatingContact"><i class="fa-solid fa-id-badge mx-2"></i> Contact &#42;</label>
            </div>
            <div class="col-md-6 form-floating">
                <input type="text" class="form-control" id="Hobbies" placeholder="Reading,Running,etc.">
                <label for="Hobbies"><i class="fa-solid fa-palette mx-2"></i> Hobbies</label>
            </div>
            <div class="col-md-12 form-floating">
                <input type="text" class="form-control" id="Travel" placeholder="Paris,London">
                <label for="Travel"><i class="fa-solid fa-clock-rotate-left mx-2"></i> Travel History </label>
            </div>
            <div class="col-md-12 form-floating">
                <input type="password" class="form-control" id="floatingPassword" placeholder="Password" required>
                <label for="floatingPassword"><i class="fa-solid fa-key mx-2"></i> Password &#42;</label>
            </div>

            <!-- Gender Selection -->
            <div class="gen">
                <h4><b>Gender:</b></h4>
                <div class="form-check mx-2">
                    <input class="form-check-input" type="radio" name="gender" id="male" value="Male" required>
                    <label class="form-check-label" for="male"><b>Male</b></label>
                </div>
                <div class="form-check mx-2">
                    <input class="form-check-input" type="radio" name="gender" id="female" value="Female">
                    <label class="form-check-label" for="female"><b>Female</b></label>
                </div>
                <div class="form-check mx-2">
                    <input class="form-check-input" type="radio" name="gender" id="other" value="Other">
                    <label class="form-check-label" for="other"><b>Other</b></label>
                </div>
            </div>

            <!-- Buttons -->
            <div class="button">
                <button type="submit" class="btn btn-primary mt-3">Save <i class="fa-solid fa-floppy-disk m-2"></i></button>
                <button class="btn btn-primary mt-3 mx-2" id="nxt_btn" onclick="next()" disabled>Next &#8702;</button>
            </div>
        </form>
        <p id="result" class="mt-3"></p>
    </div>

    <script>
        async function submitForm(event) {
            event.preventDefault(); // Prevent form default behavior

            // Retrieve input values
            const data = {
                Name: document.getElementById('floatingName').value,
                Username: document.getElementById('floatingUserName').value,
                Email: document.getElementById('floatingEmail').value,
                DOB: document.getElementById('DOB').value,
                Nationality: document.getElementById('Nationality').value,
                HomeAddress: document.getElementById('Address').value,
                Contact: document.getElementById('floatingContact').value,
                hobbies: document.getElementById('Hobbies').value,
                Travel_History: document.getElementById('Travel').value,
                Password: document.getElementById('floatingPassword').value,
                Gender: document.querySelector('input[name="gender"]:checked').value,
            };

            try {
                const response = await fetch('/post', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                });

                if (response.ok) {
                    document.getElementById('res').textContent = 'Profile saved successfully!';
                    document.getElementById('nxt_btn').disabled = false;
                } else {
                    document.getElementById('res').textContent = 'Error saving profile.';
                }
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('res').textContent = 'Network error.';
            }
        }

        function next() {
            window.location.href = 'UserCategory.html';
        }
    </script>
</body>

</html>
